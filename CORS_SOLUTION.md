# –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã CORS —Å Netlify Blobs

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ (`NetlifyBlobsClient.js`) –≤–æ–∑–Ω–∏–∫–∞–ª–∞ CORS –æ—à–∏–±–∫–∞:

```
Origin https://kwt.pub is not allowed by Access-Control-Allow-Origin
Fetch API cannot load https://api.netlify.com/api/v1/sites/.../blobs/...
```

## –ü—Ä–∏—á–∏–Ω–∞

–ë—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø—Ä—è–º—ã–µ fetch –∑–∞–ø—Ä–æ—Å—ã –∫ `api.netlify.com` –∏–∑-–∑–∞ –ø–æ–ª–∏—Ç–∏–∫–∏ CORS. Netlify API –Ω–µ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –ø—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞ –∫ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º Blobs.

## –†–µ—à–µ–Ω–∏–µ

–ü–µ—Ä–µ–∫–ª—é—á–∏–ª–∏—Å—å –Ω–∞ **–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É `@netlify/blobs`**, –∫–æ—Ç–æ—Ä–∞—è:

1. ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. ‚úÖ –û–±—Ö–æ–¥–∏—Ç CORS –∏—Å–ø–æ–ª—å–∑—É—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–∫—Å–∏
3. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ (dev/production)
4. ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è Netlify –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### –ë—ã–ª–æ (–∫–∞—Å—Ç–æ–º–Ω—ã–π –∫–ª–∏–µ–Ω—Ç):

```javascript
import NetlifyBlobsClient from './NetlifyBlobsClient.js';

// –ü—Ä—è–º—ã–µ fetch –∑–∞–ø—Ä–æ—Å—ã –∫ api.netlify.com
this.client = new NetlifyBlobsClient(siteID, token);
await this.client.get('topics');
```

### –°—Ç–∞–ª–æ (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞):

```javascript
import { getStore } from '@netlify/blobs';

// –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É
this.store = getStore({
  name: 'learning-progress',
  siteID: siteID,
  token: token
});
await this.store.get('topics', { type: 'text' });
```

## Graceful degradation

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ 2 —Ä–µ–∂–∏–º–∞—Ö:

### 1. –° Netlify Blobs (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ):
```
‚úÖ Netlify Blobs —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ
‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ Netlify Blobs
```

### 2. –ë–µ–∑ Blobs (–µ—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã):
```
‚ö†Ô∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã Netlify Blobs –Ω–µ –Ω–∞–π–¥–µ–Ω—ã, —Ä–∞–±–æ—Ç–∞–µ–º –±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
üìù –†–∞–±–æ—Ç–∞–µ–º –±–µ–∑ –æ–±–ª–∞—á–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (—Ç–æ–ª—å–∫–æ –≤ –ø–∞–º—è—Ç–∏)
üíæ –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –ø–∞–º—è—Ç–∏ (Blobs –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –ø–∞–¥–∞–µ—Ç, –∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –ø–∞–º—è—Ç–∏.

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

–ö–∞—Å—Ç–æ–º–Ω—ã–π –∫–ª–∏–µ–Ω—Ç `NetlifyBlobsClient.js` –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.

